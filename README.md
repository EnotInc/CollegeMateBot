# MyCollegeMateBot

Это Аскии, [твой приятель из колледжа](https://t.me/MyCollegeMateBotCollegeMateBot). Он поможет тебе с расписанием в колледже, а так же может подкинуть время начала пар. Он, конечно, глуповат, но бысто учится.

|\\_ _ _/|\
|o w o|

---

Телеграмм бот [MyCollegeMateBot](https://t.me/MyCollegeMateBotCollegeMateBot) предназначен для упрощения получения расписания с сайта колледжа. Пока проект в разработке и многих функций еще не хватает но базовый функционал уже в полне обширен и предлагает пользователям удобный вариант получения расписания на неделю

## Содержание
- [О работе бота](#о-работе-бота)
- [Самостоятельный запуск](#самостоятельный-запуск)
- [Команда разработки](#команда-разработки)

## О работе бота

Думаю каждый имеет представление о работе телеграм ботов. Ты нажимиешь на кнопки и он тебе что-то выдает в ответ. [Данный](https://t.me/MyCollegeMateBot) бот делает тоже самое.
Ты выбираешь за какую неделю хочешь получить расписание, а затем выбираешь курс, на котором сейчас обучаешься.\
Так же можно подключить рассылку с необходимым расписанием в группу или к себе в лс. Для этого необходимо выбрать соответствующий пункт в меню, затем выбрать "подключить" и выбрать расписание какого курса вам необходимо. Позже, через это же меню от рассылки можно отказаться, или изменить курс, необходимый вам. Бот будет сам скидывать расписание по пятницам в 12:40, в чат, где вы подключили рассылку.

|\\_ _ _/|\
| o - o |

## Самостоятельный запуск

***Важно!***
Для запуска всех команд необходимо находиться непосредственно в директории проекта

### Необходимые библиотеки

Для запуска проекта на локальной машине необходимо сначала установить следующие библиотеки:


#### *aiogram*

```sh
pip install aiogram 
```
библиотека для создания бота. Подробее с ней вы можете ознакомиться на сайте с [документацией](https://docs.aiogram.dev/en/v3.18.0/)

---

#### *dotenv*

```sh
pip install dotenv
```

библиотека необходимая для создания .env файла, в котором должны содержаться следующие константы:

```python
TOKEN='ТОКЕН ВАШЕГО ТГ БОТА'
URL='СЫЛЛКА НА ЗАПРОС С JSON ОТВЕТОМ, В КОТОРОМ ХРАНИТЬСЯ НЕОБХОДИМЫЕ ВАМ ФАЙЛЫ'
LINK='ССЫЛКА НА ГЛАВНУЮ СТРАНИЦУ САЙТА'
ACCEPT='ACCEPT'
USER_AGENT='USER_AGENT'
DEVELOPER='ID ВАШЕГО ЧАТА В ТГ'
```

***ВАЖНО!***
Логика работы сайта в разных коледжах может координально отличаться, и шанс того что мое решение подойте вам крайне мал. По хорошему вам следует самим разобраться с тем, как извлечь расписание с вашего сайта и перепесать файл parser.py под себя.

---

### requests

```sh
pip install requests
```

билиотека необзодима для создания запросов к сайту

---

#### *emoji*

```sh
pip install emoji
```

это библиотека позволяющая боту отправлять и видеть эмодзи телеграма.

---

### APSchedler

```sh
pip install apsheduler
```

это библиотека необходимая для автоматический отправки расписания в чаты

---

### json

используется для храненеия чатов и топиков, где была подключена функция рассылки сообщения. Данные храняться в следующем формате:

``` python
[
    {
        'user_chat_id': user_chat_id,
        'user_course': user_course,
        'user_topic': user_topic
    }
]
```

Если пользователь подключил рассылку в группу без топиков или к себе в личные сообщения, то user_topic по умолчанию будет None. В ином случе оно принимает значения типа int

---

### Запуск проекта

Проект необходимо запускать в консоли, используя следующую команду:
```sh
py app.py
```

Если данная команда не работает, можно использовать другую:
```sh
python app.py
```

## Команда разработки

- Некто Енот - студет 1-го курса. Разработчик

- |\\_ _ _/|\
| o w o| - кот Аскии, маскот, работает за еду